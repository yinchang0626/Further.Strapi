### Global Update æ¸¬è©¦
### æ¸¬è©¦ Global Single Type çš„æ›´æ–°æ“ä½œ
### æ‰¾å‡ºå“ªå€‹å±¬æ€§é€ æˆ BadRequest éŒ¯èª¤

@baseUrl = http://localhost:1337
@apiToken = bd8cdd66daecf5db8dbdfbeccbbf4e4adba0a38834f72a66700e31b1ad5864051a3ede3c0f028aae7621ef3077cc2226ed6e61e8c68c80f58d53d70d2ac64f8c401ca0c004378a8d62480ea78190eb9c505571c1b538f659a4a06e8c39e5a1c39ede18dfb600b11511b4f61c84b9fbe92e77a90340122a79e98d8ef9915fb5f1

### 1. å…ˆå–å¾—ç•¶å‰çš„ Global è³‡æ–™
GET {{baseUrl}}/api/global?populate[0]=favicon&populate[1]=defaultSeo&populate[2]=defaultSeo.shareImage
Authorization: Bearer {{apiToken}}
Accept: application/json

### 2. æ¸¬è©¦æœ€ç°¡å–®çš„æ›´æ–° - åªæ›´æ–° SiteName
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09"
  }
}

### 3. æ¸¬è©¦åŒ…å« SiteDescription çš„æ›´æ–°
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "siteDescription": "Test site description"
  }
}

### 4. æ¸¬è©¦åŒ…å« favicon çš„æ›´æ–° (ä½¿ç”¨ ID)
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "siteDescription": "Test site description",
    "favicon": 1
  }
}

### 5. æ¸¬è©¦åŒ…å« defaultSeo component çš„æ›´æ–°
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "siteDescription": "Test site description",
    "defaultSeo": {
      "metaTitle": "Test Meta Title",
      "metaDescription": "Test meta description"
    }
  }
}

### 6. æ¸¬è©¦åŒ…å« defaultSeo å’Œ shareImage çš„æ›´æ–° (ä½¿ç”¨ ID)
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "siteDescription": "Test site description",
    "defaultSeo": {
      "metaTitle": "Test Meta Title",
      "metaDescription": "Test meta description",
      "shareImage": 1
    }
  }
}

### 7. æ¸¬è©¦éŒ¯èª¤ï¼šåŒ…å«ç³»çµ±æ¬„ä½ (æ‡‰è©²æœƒå¤±æ•—)
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "id": 1,
    "documentId": "abc123",
    "siteName": "Test Site Name - 2025-01-09",
    "siteDescription": "Test site description",
    "createdAt": "2025-01-09T10:00:00.000Z",
    "updatedAt": "2025-01-09T10:00:00.000Z"
  }
}

### 8. æ¸¬è©¦éŒ¯èª¤ï¼šåŒ…å«å®Œæ•´çš„ favicon ç‰©ä»¶ (æ‡‰è©²æœƒå¤±æ•—)
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "favicon": {
      "id": 1,
      "documentId": "hh_JZFT0B6uYyFvwmIz5M",
      "name": "favicon.ico",
      "url": "/uploads/favicon_123456.ico",
      "mime": "image/x-icon",
      "size": 1024
    }
  }
}

### 9. æ¸¬è©¦éŒ¯èª¤ï¼šåŒ…å«å®Œæ•´çš„ defaultSeo component ç‰©ä»¶ (æ‡‰è©²æœƒå¤±æ•—)
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "defaultSeo": {
      "id": 1,
      "__component": "shared.seo",
      "metaTitle": "Test Meta Title",
      "metaDescription": "Test meta description",
      "shareImage": {
        "id": 1,
        "documentId": "hh_JZFT0B6uYyFvwmIz5M",
        "name": "share-image.jpg",
        "url": "/uploads/share_image_123456.jpg"
      }
    }
  }
}

### 10. é‡ç¾ C# å•é¡Œï¼šåŒ…å«æ‰€æœ‰ç³»çµ±æ¬„ä½ (æœƒå¤±æ•—)
### é€™æ˜¯ C# åºåˆ—åŒ–å®Œæ•´ç‰©ä»¶æ™‚ç”¢ç”Ÿçš„ JSON
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site - 2025-10-09 14:42:12",
    "siteDescription": "Test site description",
    "favicon": 1,
    "defaultSeo": {
      "metaDescription": "123",
      "metaTitle": "123",
      "shareImage": 1
    }
  }
}

### 11. ä¿®æ­£ç‰ˆæœ¬ï¼šåªåŒ…å«æ¥­å‹™æ¬„ä½ (æ‡‰è©²æˆåŠŸ)
### ç§»é™¤æ‰€æœ‰ç³»çµ±æ¬„ä½
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site - 2025-10-09 14:42:12",
    "siteDescription": "Test site description",
    "favicon": 1,
    "defaultSeo": {
      "metaDescription": "123",
      "metaTitle": "123",
      "shareImage": 1
    }
  }
}

### 13. é©—è­‰ï¼šdefaultSeo å«æœ‰ __component æ˜¯å¦æœƒå¤±æ•—
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "Test Site Name - 2025-01-09",
    "defaultSeo": {
      "__component": "shared.seo",
      "metaTitle": "Test Meta Title",
      "metaDescription": "Test meta description"
    }
  }
}

### 14. æ¢å¾©åŸå§‹å€¼çš„æ¸¬è©¦
PUT {{baseUrl}}/api/global
Authorization: Bearer {{apiToken}}
Content-Type: application/json

{
  "data": {
    "siteName": "é’å³¶ç”Ÿæ…‹ç¢³è¿½è¹¤ç³»çµ±",
    "siteDescription": "Qingdao Eco Carbon Tracking System - ä¸€å€‹å°ˆæ³¨æ–¼ç’°å¢ƒç›£æ¸¬èˆ‡ç¢³è¶³è·¡è¿½è¹¤çš„å‰µæ–°å¹³å°"
  }
}

### æ¸¬è©¦èªªæ˜:
# 
# ğŸ¯ æ¸¬è©¦ç›®æ¨™ï¼š
# æ‰¾å‡ºå“ªäº›å±¬æ€§æœƒå°è‡´ BadRequest éŒ¯èª¤
# 
# ğŸ§ª æ¸¬è©¦ç­–ç•¥ï¼š
# 1. å¾æœ€ç°¡å–®çš„æ›´æ–°é–‹å§‹ (åªæœ‰ siteName)
# 2. é€æ­¥å¢åŠ æ›´å¤šæ¬„ä½
# 3. æ¸¬è©¦ media é—œè¯çš„æ­£ç¢ºæ ¼å¼
# 4. æ¸¬è©¦ component çš„æ­£ç¢ºæ ¼å¼
# 5. ç¢ºèªå“ªäº›æ¬„ä½æ˜¯ä¸æ‡‰è©²åŒ…å«çš„ (ç³»çµ±æ¬„ä½ã€å®Œæ•´ç‰©ä»¶ç­‰)
# 
# âŒ å¯èƒ½çš„éŒ¯èª¤åŸå› ï¼š
# 1. åŒ…å«äº†ç³»çµ±æ¬„ä½ (id, documentId, createdAt, updatedAt)
# 2. Media é—œè¯ä½¿ç”¨äº†å®Œæ•´ç‰©ä»¶è€Œé ID/documentId
# 3. Component åŒ…å«äº†ä¸è©²æœ‰çš„ç³»çµ±æ¬„ä½ (id, __component)
# 4. æ¬„ä½åç¨±éŒ¯èª¤ (camelCase vs snake_case)
# 5. è³‡æ–™é¡å‹éŒ¯èª¤
# 
# âœ… é æœŸçµæœï¼š
# æ¸¬è©¦ 2, 3, 4/5, 6, 7/8, 12 æ‡‰è©²æˆåŠŸ
# æ¸¬è©¦ 9, 10, 11 æ‡‰è©²å¤±æ•— (ç¢ºèªéŒ¯èª¤åŸå› )